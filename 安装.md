# 安装

freebsd 直接带包，比较方便

## 步骤

### 下载

```sh
pkg install freeswitch
```

### 初始化配置

```sh
mkdir -p /usr/local/etc/freeswitch
cd /usr/local/share/examples/freeswitch/vanilla/ && pax -rw -p e . /usr/local/etc/freeswitch
```

### 修改监听 ip

```sh
vim /usr/local/etc/freeswitch/autoload_configs/event_socket.conf.xml
```

```xml
<param name="listen-ip" value="0.0.0.0"/>
```

### 指定网卡

```sh
vim /usr/local/etc/freeswitch/sip_profiles/internal.xml
```

```xml
<param name="rtp-ip" value="192.168.56.11"/>
<param name="sip-ip" value="192.168.56.11"/>
```

```sh
vim /usr/local/etc/freeswitch/autoload_configs/sofia.conf.xml
```

```xml
<param name="auto-restart" value="false"/>
```

### 启动

```sh
freeswitch -nc -nonat
```

### shell

进入

```sh
fs_cli -rRS
```

退出

```sh
...
```

## 网络查看

```sh
sockstat -4l
```
